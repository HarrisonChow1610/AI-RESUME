<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<title>AI 简历生成器（一次性 ID 版）</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
/* 注册/登录按钮风格与弹窗按钮一致 */
.modal-btn {
  background:linear-gradient(90deg,#2176FF 60%,#005BAC 100%);
  color:#fff;
  border:none;
  border-radius:8px;
  padding:7px 18px;
  font-size:15px;
  font-weight:600;
  box-shadow:0 2px 8px 0 rgba(33,118,255,0.08);
  transition:background 0.18s, box-shadow 0.18s;
  cursor:pointer;
}
.modal-btn:hover {
  background:linear-gradient(90deg,#005BAC 60%,#2176FF 100%);
  box-shadow:0 4px 16px 0 rgba(33,118,255,0.13);
}
/* ========== 极简布局 ========== */
*{box-sizing:border-box;margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;}
body{
  display:flex;
  height:100vh;
  background:#f7f7f7;
}

/* 页面整体圆角边框美化 */
.main-border-bg {
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
}
.main-border-bg {
  background:linear-gradient(120deg,#e3f0ff 0%,#fafdff 60%,#e3f0ff 100%);
}
.main-border-bg::before {
  content: "";
  position: absolute;
  left: 0; top: 0; width: 100%; height: 100%;
  background: repeating-linear-gradient(135deg, #2176FF22 0 2px, transparent 2px 32px);
  opacity: 0.18;
}
.main-border-bg::after {
  content: "";
  position: absolute;
  right: 0; bottom: 0; width: 100%; height: 100%;
  background: repeating-linear-gradient(-45deg, #005BAC22 0 2px, transparent 2px 32px);
  opacity: 0.13;
}
.main-border-wrap {
  flex:1;
  margin:32px auto;
  max-width:1440px;
  min-width:900px;
  height:calc(100vh - 64px);
  background:linear-gradient(135deg,#fafdff 60%,#e3f0ff 100%);
  border-radius:56px;
  border:7px solid;
  border-image:linear-gradient(120deg,#2176FF 40%,#e3f0ff 100%) 1;
  box-shadow:0 12px 40px 0 rgba(33,118,255,0.13),0 2px 12px 0 rgba(0,91,172,0.10);
  display:flex;
  position:relative;
  overflow:hidden;
  z-index:1;
}

h3{margin-bottom:8px;font-size:15px;}
input,textarea,button{font-size:14px;padding:6px 8px;border:1px solid #bbb;border-radius:4px;}
button{cursor:pointer;background:#007bff;color:#fff;border-color:#007bff;}
button:hover{background:#0056b3;}
textarea{resize:vertical;width:100%;}
/* 左侧预览美化 */
#left{
  flex:1;
  padding:32px 28px 32px 32px;
  overflow:auto;
  background:linear-gradient(135deg,#fafdff 60%,#e3f0ff 100%);
  border-right:2px solid #b3d1ff;
  min-width:340px;
}
#left h2 {
  color:#005BAC;
  font-size:1.25rem;
  font-weight:700;
  margin-bottom:16px;
  letter-spacing:1px;
}
#resumePreview{
  background:#fafdff;
  padding:28px 28px;
  border-radius:18px;
  font-size:18px;
  line-height:2.05;
  white-space:pre-wrap;
  box-shadow:0 4px 18px 0 rgba(33,118,255,0.10);
  border:4px solid;
  border-image:linear-gradient(120deg,#2176FF 40%,#e3f0ff 100%) 1;
  color:#1a2a3a;
  position:relative;
  overflow:hidden;
}
#resumePreview::before {
  content: "";
  position: absolute;
  top: -30px; left: -30px;
  width: 90px; height: 90px;
  background: radial-gradient(circle at 30% 30%, #2176FF33 60%, transparent 100%);
  z-index: 0;
}
#resumePreview::after {
  content: "";
  position: absolute;
  bottom: -30px; right: -30px;
  width: 90px; height: 90px;
  background: radial-gradient(circle at 70% 70%, #005BAC22 60%, transparent 100%);
  z-index: 0;
}
#resumePreview > * {
  position: relative;
  z-index: 1;
}
#resumePreview h1,#resumePreview h2,#resumePreview h3{
  color:#2176FF;
  margin:.8em 0 .4em;
}
#resumePreview ul{margin-left:1.2em}

/* 右侧对话美化 */
#right {
  width: 420px;
  display: flex;
  flex-direction: column;
  padding: 32px 28px 32px 28px;
  background:linear-gradient(135deg,#fafdff 60%,#e3f0ff 100%);
  margin-bottom: 40px;
  border-left:2px solid #b3d1ff;
  min-width:320px;
}
#right h2 {
  color:#005BAC;
  font-size:1.18rem;
  font-weight:700;
  margin-bottom:12px;
  letter-spacing:1px;
}
#chatHistory{
  flex:1;
  border:1.5px solid #b3d1ff;
  border-radius:10px;
  padding:13px 10px;
  overflow:auto;
  background:#fafdff;
  margin-bottom:12px;
  font-size:14px;
  color:#1a2a3a;
  box-shadow:0 2px 8px 0 rgba(33,118,255,0.06);
}
#chatInput{
  display:flex;
  gap:8px;
}
#chatInput textarea{
  flex:1;
  height:60px;
  border:1.5px solid #b3d1ff;
  border-radius:8px;
  padding:7px 10px;
  background:#fafdff;
  transition:border-color 0.2s, box-shadow 0.2s;
  outline:none;
}
#chatInput textarea:focus{
  border-color:#2176FF;
  box-shadow:0 0 0 2px #e3f0ff;
}
#chatInput button{
  background:linear-gradient(90deg,#2176FF 60%,#005BAC 100%);
  color:#fff;
  border:none;
  border-radius:8px;
  padding:7px 18px;
  font-size:15px;
  font-weight:600;
  box-shadow:0 2px 8px 0 rgba(33,118,255,0.08);
  transition:background 0.18s, box-shadow 0.18s;
}
#chatInput button:hover{
  background:linear-gradient(90deg,#005BAC 60%,#2176FF 100%);
  box-shadow:0 4px 16px 0 rgba(33,118,255,0.13);
}
#right>div[style*="margin-top"] button {
  background:linear-gradient(90deg,#2176FF 60%,#005BAC 100%);
  color:#fff;
  border:none;
  border-radius:8px;
  padding:7px 18px;
  font-size:15px;
  font-weight:600;
  box-shadow:0 2px 8px 0 rgba(33,118,255,0.08);
  transition:background 0.18s, box-shadow 0.18s;
}
#right>div[style*="margin-top"] button:hover {
  background:linear-gradient(90deg,#005BAC 60%,#2176FF 100%);
  box-shadow:0 4px 16px 0 rgba(33,118,255,0.13);
}

/* 底部存取栏美化 */
#bottomBar{
  position:fixed;
  bottom:0;left:0;right:0;
  background:linear-gradient(90deg,#fafdff 60%,#e3f0ff 100%);
  border-top:2px solid #b3d1ff;
  padding:13px 32px;
  display:flex;align-items:center;gap:16px;
  box-shadow:0 -2px 12px 0 rgba(33,118,255,0.07);
  z-index:999;
}
#bottomBar input{
  flex:1;
  max-width:240px;
  border:1.5px solid #b3d1ff;
  border-radius:8px;
  padding:7px 10px;
  background:#fafdff;
  transition:border-color 0.2s, box-shadow 0.2s;
  outline:none;
}
#bottomBar input:focus{
  border-color:#2176FF;
  box-shadow:0 0 0 2px #e3f0ff;
}
#bottomBar button{
  background:linear-gradient(90deg,#2176FF 60%,#005BAC 100%);
  color:#fff;
  border:none;
  border-radius:8px;
  padding:7px 18px;
  font-size:15px;
  font-weight:600;
  box-shadow:0 2px 8px 0 rgba(33,118,255,0.08);
  transition:background 0.18s, box-shadow 0.18s;
}
#bottomBar button:hover{
  background:linear-gradient(90deg,#005BAC 60%,#2176FF 100%);
  box-shadow:0 4px 16px 0 rgba(33,118,255,0.13);
}
/* 初始遮罩 */
/* 北邮蓝白美化弹窗 */
/* 弹窗居中偏右显示 */
#modalOverlay{
  position:fixed;inset:0;
  background:rgba(0,32,64,0.18);
  display:flex;
  align-items:center;
  justify-content:flex-end;
  z-index:1000;
  animation: modal-fadein 0.5s;
  padding-right:8vw;
}
@keyframes modal-fadein {
  from { opacity:0; transform:scale(0.96); }
  to   { opacity:1; transform:scale(1); }
}
#modal{
  background:linear-gradient(135deg,#fafdff 60%,#e3f0ff 100%);
  width:30vw;
  max-width:420px;
  min-width:300px;
  height:80vh;
  max-height:88vh;
  padding:0;
  border-radius:38px;
  box-shadow:0 12px 40px 0 rgba(33,118,255,0.18),0 2px 12px 0 rgba(0,91,172,0.10);
  display:flex;
  flex-direction:column;
  border:4px solid #2176FF;
  position:relative;
  overflow:hidden;
}
#modal .modal-content {
  flex:1 1 auto;
  overflow-y:auto;
  padding:36px 28px 18px 28px;
  display:flex;
  flex-direction:column;
  gap:18px;
  min-height:0;
}
#modal .modal-footer {
  flex-shrink:0;
  padding:16px 28px 18px 28px;
  background:linear-gradient(90deg,#fafdff 80%,#e3f0ff 100%);
  border-top:1.5px solid #e3f0ff;
  display:flex;
  justify-content:flex-end;
  gap:16px;
  border-radius:0 0 34px 34px;
  position:sticky;
  bottom:0;
  z-index:2;
}
#modal::-webkit-scrollbar {
  width: 8px;
  border-radius: 8px;
  background: #e3f0ff;
}
#modal::-webkit-scrollbar-thumb {
  background: #2176FF;
  border-radius: 8px;
}
#modal::-webkit-scrollbar {
  width: 8px;
  border-radius: 8px;
  background: #e3f0ff;
}
#modal::-webkit-scrollbar-thumb {
  background: #2176FF;
  border-radius: 8px;
}
#modal h2 {
  color:#005BAC;
  font-size:1.45rem;
  font-weight:700;
  letter-spacing:1px;
  margin-bottom:8px;
  text-align:center;
}
#modal label {
  color:#2176FF;
  font-weight:600;
  margin-bottom:2px;
}
#modal input, #modal textarea {
  border:1.5px solid #b3d1ff;
  border-radius:8px;
  padding:7px 10px;
  margin-bottom:7px;
  transition:border-color 0.2s, box-shadow 0.2s;
  outline:none;
  background:#fafdff;
}
#modal input:focus, #modal textarea:focus {
  border-color:#2176FF;
  box-shadow:0 0 0 2px #e3f0ff;
}
#modal button, #modal .addBtn {
  background:linear-gradient(90deg,#2176FF 60%,#005BAC 100%);
  color:#fff;
  border:none;
  border-radius:8px;
  padding:7px 18px;
  font-size:15px;
  font-weight:600;
  margin-top:6px;
  box-shadow:0 2px 8px 0 rgba(33,118,255,0.08);
  transition:background 0.18s, box-shadow 0.18s;
}
#modal button:hover, #modal .addBtn:hover {
  background:linear-gradient(90deg,#005BAC 60%,#2176FF 100%);
  box-shadow:0 4px 16px 0 rgba(33,118,255,0.13);
}
#modal fieldset.section {
  border:1.5px dashed #b3d1ff;
  border-radius:10px;
  padding:12px 10px 10px 10px;
  background:rgba(225,240,255,0.13);
  margin-bottom:8px;
}
#modal legend {
  color:#005BAC;
  font-weight:700;
  font-size:14px;
  background:#fafdff;
  padding:0 7px;
  border-radius:6px;
  letter-spacing:0.5px;
}
#modal input[type="checkbox"] {
  accent-color:#2176FF;
}
#modal .addBtn {
  font-size:13px;
  padding:5px 13px;
  margin-top:4px;
}
#modal .addBtn:active {
  background:linear-gradient(90deg,#005BAC 60%,#2176FF 100%);
}
#modal .section>div>div {
  margin-bottom:6px;
}
#modal .section>div>div:last-child {
  margin-bottom:0;
}
#modal .section textarea {
  min-height:38px;
}
#modal .section input {
  margin-right:6px;
}
#modal .section button {
  padding:4px 10px;
  font-size:13px;
  margin-top:2px;
  margin-left:4px;
}
#modal .section button:hover {
  background:linear-gradient(90deg,#005BAC 60%,#2176FF 100%);
}
#modal .section label {
  color:#2176FF;
  font-weight:500;
}
#modal .section {
  margin-bottom:10px;
}
#modal .section:last-child {
  margin-bottom:0;
}
#modal .section input[type="month"] {
  min-width:110px;
}
#modal .section input[type="month"]::-webkit-input-placeholder {
  color:#b3d1ff;
}
#modal .section input[type="month"]::-moz-placeholder {
  color:#b3d1ff;
}
#modal .section input[type="month"]:-ms-input-placeholder {
  color:#b3d1ff;
}
#modal .section input[type="month"]::placeholder {
  color:#b3d1ff;
}

.section{border:1px dashed #ccc;padding:10px;border-radius:4px;position:relative;}
.section legend{font-weight:600;font-size:13px;background:#fff;padding:0 4px;}
.addBtn{font-size:12px;margin-top:6px;}
#resumePreview{ background:#fafafa; padding:18px; border-radius:6px; font-size:14px; line-height:1.7; }
#resumePreview h1,#resumePreview h2,#resumePreview h3{margin:.8em 0 .4em}
#resumePreview ul{margin-left:1.2em}
</style>
</head>
<body>

<div class="main-border-bg"></div>
<div class="main-border-wrap">
<!-- ========== 1. ID 弹窗 ==========-->
<div id="modalOverlay">
  <div id="modal">
    <div class="modal-content">

      <!-- <div style="display:flex; justify-content:center; margin-bottom:18px;">
        <button type="button" class="modal-btn" style="min-width:120px;" onclick="loginUser()">登录</button>
      </div> -->

      <h3>基本信息（* 必填）</h3>
      <input id="baseName"      placeholder="姓名*" />
      <input id="baseEmail"     placeholder="邮箱*" type="email" />
      <input id="basePhone"     placeholder="电话*" />
      <input id="baseAddress"   placeholder="地址（可选）" />
      <input id="baseLinkedin"  placeholder="LinkedIn（可选）" />
      <input id="baseGithub"    placeholder="GitHub（可选）" />

      <fieldset class="section">
        <legend>教育经历</legend>
        <div id="eduList"></div>
        <button class="addBtn" type="button" onclick="addEdu()">+ 添加教育</button>
      </fieldset>

      <fieldset class="section">
        <legend>工作经验</legend>
        <div id="expList"></div>
        <button class="addBtn" type="button" onclick="addExp()">+ 添加工作</button>
      </fieldset>

      <fieldset class="section">
        <legend>技能</legend>
        <div id="skillList"></div>
        <button class="addBtn" type="button" onclick="addSkill()">+ 添加技能</button>
      </fieldset>

      <fieldset class="section">
        <legend>项目经历</legend>
        <div id="projList"></div>
        <button class="addBtn" type="button" onclick="addProj()">+ 添加项目</button>
      </fieldset>
    </div>
    <div class="modal-footer">
      <button type="button" onclick="generateID()">生成 ID</button>
      <button type="button" onclick="submitInit()">生成简历</button>
    </div>
  </div>
</div> 

<!-- ========== 2. 主界面 ========== -->
<div id="left">
  <h2>简历预览</h2>
  <div id="resumePreview">请先填写左侧信息并点击「生成简历」</div>
</div>

<div id="right">
  <h2>对话式修改</h2>
  <div id="chatHistory"></div>
  <div id="chatInput">
    <textarea id="reviseRequest" placeholder="例如：请把工作经验第二条细化成 3 条要点"></textarea>
    <button type="button" onclick="reviseResume()">修改</button>
  </div>
  <div style="margin-top:10px;display:flex;gap:10px;">
    <button type="button" onclick="downloadPDF()">下载 PDF</button>
  </div>
</div>
</div>

<!-- ========== 3. 底部存取栏 ========== -->
<div id="bottomBar">
  <input id="saveUserId" placeholder="当前/读取 ID" />
  <button type="button" onclick="saveResume()">保存简历</button>
  <button type="button" onclick="loadResume()">读取简历</button>
</div>

<!-- ========== 4. 所有 JS 在此文件 ========== -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="script.js"></script>
</body>
</html>
